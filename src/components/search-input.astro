---
import { Search } from "lucide-react";

import { cn } from "~/lib/utils";

interface Props {
  initialQuery?: string;
}

const { initialQuery } = Astro.props;
---

<form
  class="flex h-10 w-full overflow-hidden rounded-xl border border-input bg-background shadow-sm"
  method="get"
  action="/search"
>
  <input
    class="w-full bg-background px-3 py-1 text-base placeholder:text-muted-foreground focus-visible:outline-none md:text-sm"
    type="search"
    name="q"
    placeholder="Search"
    required
    value={initialQuery}
  />
  <button
    class={cn(
      "inline-flex aspect-square h-full items-center justify-center transition-colors focus-visible:outline-none",
      "hover:bg-accent hover:text-accent-foreground focus-visible:bg-accent focus-visible:text-accent-foreground",
    )}
    type="submit"
  >
    <Search size={20} />
  </button>
</form>
